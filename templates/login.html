<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eclari — Log in</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  
  <!-- Favicon -->
  <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='images/favicon_io/favicon-32x32.png') }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='images/favicon_io/favicon-16x16.png') }}">
  <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='images/favicon_io/apple-touch-icon.png') }}">
  <link rel="manifest" href="{{ url_for('static', filename='images/favicon_io/site.webmanifest') }}">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="{{ url_for('home') }}">
        <img class="brand-mark" src="{{ url_for('static', filename='images/favicon_io/favicon-32x32.png') }}" alt="Eclari Logo">
        <span class="brand-text">Eclari</span>
      </a>
      <nav class="nav">
        <a class="nav-link" href="{{ url_for('home') }}#features">Features</a>
        <a class="nav-link" href="{{ url_for('home') }}#how">How it Works</a>
      </nav>
    </div>
  </header>

  <main class="auth">
    <div class="auth-visual" style="display:grid; place-items:center;">
      <div class="card ala-card auth-card" style="text-align:center; color: var(--ala-gold);">
        <div class="crest">
          <img src="/static/images/ala.jpeg" alt="ALA Crest">
        </div>
        <h2 class="ala-title" style="margin:12px 0 6px;">Welcome To Eclari</h2>
        <p id="loginSubtitle" style="margin:0; color:#f3e7c2;">African Leadership Academy • Student Clearance Portal</p>
      </div>
    </div>
    <div class="container">
      <div class="auth-card">
        <h1 style="margin:0 0 6px;">Sign in</h1>
        <p style="color:var(--muted); margin:0 0 16px;">Use your ALA ID and password</p>
        <div class="stack">
          <div class="input-group">
            <label for="role">Role</label>
            <div class="select-wrap" id="roleSelectWrap">
              <select id="role" class="select-hidden" aria-label="Role">
                <option value="student" selected>Student</option>
                <option value="teacher">Teacher</option>
                <option value="finance">Finance</option>
                <option value="hall">Hall Head</option>
                <option value="coach">Coach</option>
                <option value="lab">Lab Staff</option>
              </select>
              <button type="button" class="select-trigger" id="roleTrigger" aria-haspopup="listbox" aria-expanded="false">
                <span id="roleTriggerText">Student</span>
                <span class="select-caret"></span>
              </button>
              <div class="select-menu" id="roleMenu" role="listbox" aria-labelledby="roleTrigger">
                <div class="select-option" role="option" data-value="student" tabindex="0" aria-selected="true">Student</div>
                <div class="select-option" role="option" data-value="teacher" tabindex="0">Teacher</div>
                <div class="select-option" role="option" data-value="finance" tabindex="0">Finance</div>
                <div class="select-option" role="option" data-value="hall" tabindex="0">Hall Head</div>
                <div class="select-option" role="option" data-value="coach" tabindex="0">Coach</div>
                <div class="select-option" role="option" data-value="lab" tabindex="0">Lab Staff</div>
              </div>
            </div>
          </div>
          <div class="input-group">
            <label id="id-label" for="id">Email</label>
            <input class="input" id="id" type="email" placeholder="e.g. student@ala.edu" />
          </div>
          <div class="input-group">
            <label for="password">Password</label>
            <input class="input" id="password" type="password" placeholder="••••••••" />
          </div>
          <button id="loginBtn" class="button button-primary" style="width:100%;">Log in</button>
          <a href="{{ url_for('home') }}" class="button button-ghost" style="width:100%;">Back to Home</a>
        </div>
      </div>
    </div>
  </main>

  <!-- Supabase Configuration -->
  <script>
    // Make Supabase config available globally for the auth module
    window.SUPABASE_URL = "{{ supabase_url }}";
    window.SUPABASE_ANON_KEY = "{{ supabase_anon_key }}";
  </script>
  
  <!-- Bundled JavaScript with Supabase authentication -->
  <script type="module" src="{{ url_for('static', filename='js/app.bundle.js') }}"></script>
</body>
</html>


